<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Meu Pou: Level Up</title>
    <style>
        :root {
            --sala: #ff85a2; --cozinha: #ff9185; --quarto: #ffff66;
            --banheiro: #00ffff; --garden: #00ccff;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; background: #222; display: flex; justify-content: center; align-items: center; height: 100vh; font-family: 'Arial', sans-serif; overflow: hidden; }
        
        #game-container { width: 360px; height: 640px; background-color: var(--sala); position: relative; overflow: hidden; border: 8px solid #000; border-radius: 30px; display: flex; flex-direction: column; transition: background 0.4s; }
        
        /* STATUS E N√çVEL */
        .status-container { height: 80px; background: rgba(255,255,255,0.4); border-bottom: 2px solid #000; display: grid; grid-template-columns: repeat(4, 1fr) 80px; padding: 10px; gap: 5px; align-items: center; z-index: 20; }
        .bar-bg { width: 100%; height: 12px; background: #fff; border: 1.5px solid #000; border-radius: 5px; overflow: hidden; }
        .bar-fill { height: 100%; width: 100%; transition: width 0.3s; }
        #fome-bar { background: #ff4757; } #saude-bar { background: #2ed573; } #fun-bar { background: #1e90ff; } #energy-bar { background: #ffa500; }
        
        .level-circle { 
            width: 45px; height: 45px; background: #fff; border: 3px solid #000; border-radius: 50%; 
            display: flex; justify-content: center; align-items: center; font-weight: bold; font-size: 18px;
            position: relative; box-shadow: inset 0 -3px 0 #ddd;
        }
        /* Barra de XP em volta do c√≠rculo */
        .xp-ring {
            position: absolute; width: 52px; height: 52px; border: 4px solid #00ff00;
            border-radius: 50%; clip-path: inset(0 0 50% 0); /* Simula√ß√£o de progresso */
            display: none; 
        }

        .coins-display { position: absolute; top: 90px; right: 20px; background: #fff; border: 2px solid #000; border-radius: 15px; padding: 2px 10px; font-weight: bold; z-index: 20; }

        /* NAVEGA√á√ÉO */
        .nav { display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; font-weight: bold; font-size: 20px; z-index: 20; }
        .arrow { cursor: pointer; font-size: 35px; }

        /* POU */
        .stage { flex-grow: 1; display: flex; justify-content: center; align-items: center; position: relative; }
        #pou { width: 160px; height: 140px; background: #b8860b; border: 4px solid #000; border-radius: 50% 50% 45% 45% / 60% 60% 40% 40%; position: relative; transition: 0.3s; z-index: 10; }
        .eye { width: 35px; height: 35px; background: #fff; border: 3px solid #000; border-radius: 50%; position: absolute; top: 35px; overflow: hidden; }
        .eye.l { left: 30px; } .eye.r { right: 35px; }
        .pupil { width: 14px; height: 14px; background: #000; border-radius: 50%; margin: 10px; }
        .mouth { width: 40px; height: 4px; background: #000; position: absolute; bottom: 35px; left: 55px; border-radius: 10px; transition: 0.3s; }
        
        /* EXPRESS√ïES */
        #pou.tired .eye { height: 12px; margin-top: 12px; }
        #pou.hungry .mouth { width: 20px; height: 20px; border-radius: 50%; left: 65px; bottom: 25px; }
        #pou.sad .mouth { height: 10px; border-radius: 50% 50% 0 0; background: transparent; border: 3px solid #000; border-bottom: none; }
        #pou.happy .mouth { height: 15px; border-radius: 0 0 20px 20px; }

        .poop { position: absolute; font-size: 35px; z-index: 5; }
        #night { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,50,0.7); display: none; z-index: 50; pointer-events: none; }

        /* FOOTER */
        .footer { height: 110px; background: rgba(0,0,0,0.1); display: flex; justify-content: space-around; align-items: center; }
        .btn-action { display: flex; flex-direction: column; align-items: center; cursor: pointer; }
        .icon-circle { width: 55px; height: 55px; background: #fff; border: 3px solid #000; border-radius: 15px; display: flex; justify-content: center; align-items: center; font-size: 28px; margin-bottom: 5px; box-shadow: 0 4px 0 #000; }
        .btn-action span { font-size: 11px; font-weight: bold; }
    </style>
</head>
<body>

<div id="game-container">
    <div id="night"></div>
    <div class="status-container">
        <div class="stat-box">üçó<div class="bar-bg"><div id="fome-bar" class="bar-fill"></div></div></div>
        <div class="stat-box">‚úö<div class="bar-bg"><div id="saude-bar" class="bar-fill"></div></div></div>
        <div class="stat-box">üïπÔ∏è<div class="bar-bg"><div id="fun-bar" class="bar-fill"></div></div></div>
        <div class="stat-box">‚ö°<div class="bar-bg"><div id="energy-bar" class="bar-fill"></div></div></div>
        <div class="level-circle" id="level-val">1</div>
    </div>

    <div class="coins-display">üí∞ <span id="coin-val">50</span></div>

    <div class="nav">
        <div class="arrow" onclick="moveRoom(-1)">‚ùÆ</div>
        <div id="room-name">SALA</div>
        <div class="arrow" onclick="moveRoom(1)">‚ùØ</div>
    </div>

    <div id="main-stage" class="stage">
        <div id="pou">
            <div class="eye l"><div class="pupil"></div></div>
            <div class="eye r"><div class="pupil"></div></div>
            <div class="mouth"></div>
        </div>
    </div>

    <div id="footer" class="footer"></div>
</div>

<script>
    let stats = { hunger: 60, health: 100, fun: 60, energy: 60, coins: 50, level: 1, xp: 0 };
    let rooms = ["COZINHA", "BANHEIRO", "QUARTO", "SALA", "GARDEN"];
    let currentRoom = 3; 
    let sleeping = false;
    let poops = [];

    function moveRoom(dir) {
        currentRoom = (currentRoom + dir + rooms.length) % rooms.length;
        render();
    }

    function addXP(amount) {
        stats.xp += amount;
        if (stats.xp >= 100) {
            stats.level++;
            stats.xp = 0;
            stats.coins += 50;
            alert("LEVEL UP! Voc√™ agora √© n√≠vel " + stats.level + " e ganhou 50 moedas!");
            document.getElementById('level-val').innerText = stats.level;
        }
    }

    function updateStats() {
        if(!sleeping) {
            stats.hunger = Math.max(0, stats.hunger - 0.4);
            stats.fun = Math.max(0, stats.fun - 0.2);
            stats.energy = Math.max(0, stats.energy - 0.1);
        } else {
            stats.energy = Math.min(100, stats.energy + 3);
            if(stats.energy >= 100) addXP(0.5);
        }
        if(poops.length > 0) stats.health = Math.max(0, stats.health - 0.3);

        document.getElementById('fome-bar').style.width = stats.hunger + "%";
        document.getElementById('saude-bar').style.width = stats.health + "%";
        document.getElementById('fun-bar').style.width = stats.fun + "%";
        document.getElementById('energy-bar').style.width = stats.energy + "%";
        document.getElementById('coin-val').innerText = Math.floor(stats.coins);
        
        const p = document.getElementById('pou');
        p.className = "";
        if(sleeping) p.classList.add('tired');
        else if(stats.hunger < 30) p.classList.add('hungry');
        else if(stats.fun < 30) p.classList.add('sad');
        else if(stats.hunger > 80) p.classList.add('happy');
    }

    function render() {
        const name = rooms[currentRoom];
        document.getElementById('game-container').style.backgroundColor = `var(--${name.toLowerCase()})`;
        document.getElementById('room-name').innerText = name;
        
        let btnHTML = "";
        if(name === "COZINHA") btnHTML = `<div class="btn-action" onclick="eat()"> <div class="icon-circle">üçï</div><span>Comer</span></div>`;
        else if(name === "BANHEIRO") btnHTML = `<div class="btn-action" onclick="clean()"> <div class="icon-circle">üßº</div><span>Limpar</span></div>`;
        else if(name === "QUARTO") btnHTML = `<div class="btn-action" onclick="toggleSleep()"> <div class="icon-circle">üí°</div><span>Abajur</span></div>`;
        else if(name === "SALA") btnHTML = `<div class="btn-action" onclick="play()"> <div class="icon-circle">üéÆ</div><span>Jogar</span></div>`;
        else btnHTML = `<div class="btn-action" onclick="alert('Garden!')"> <div class="icon-circle">‚òÅÔ∏è</div><span>Nuvem</span></div>`;
        
        document.getElementById('footer').innerHTML = btnHTML;
    }

    function eat() { 
        if(stats.hunger < 100) {
            stats.hunger = Math.min(100, stats.hunger + 15); 
            addXP(10);
            if(Math.random() > 0.7) spawnPoop();
        }
    }
    function play() { 
        stats.fun = Math.min(100, stats.fun + 20); 
        stats.coins += 10; 
        addXP(15);
    }
    function clean() { 
        if(poops.length > 0) {
            poops = []; 
            stats.health = 100; 
            document.querySelectorAll('.poop').forEach(p => p.remove()); 
            addXP(20);
        }
    }
    function toggleSleep() { 
        sleeping = !sleeping; 
        document.getElementById('night').style.display = sleeping ? "block" : "none"; 
        if(sleeping) addXP(5);
    }
    
    function spawnPoop() {
        const p = document.createElement('div');
        p.className = 'poop'; p.innerHTML = 'üí©';
        p.style.left = Math.random() * 200 + 50 + "px";
        p.style.top = Math.random() * 200 + 100 + "px";
        document.getElementById('main-stage').appendChild(p);
        poops.push(1);
    }

    setInterval(updateStats, 1000);
    render();
</script>
</body>
</html>